#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ç§»å‹•
cd "$(git rev-parse --show-toplevel)"

echo "ğŸ” cargo fmt --check ã‚’å®Ÿè¡Œä¸­..."
cargo fmt --check || { echo "âŒ cargo fmt --check ãŒå¤±æ•—ã—ã¾ã—ãŸã€‚"; exit 1; }

echo "ğŸ” cargo clippy -- -D warnings ã‚’å®Ÿè¡Œä¸­..."
cargo clippy -- -D warnings || { echo "âŒ cargo clippy ãŒå¤±æ•—ã—ã¾ã—ãŸã€‚"; exit 1; }

echo "âœ… pre-commitãƒ•ãƒƒã‚¯ãŒæ­£å¸¸ã«å®Œäº†ã—ã¾ã—ãŸã€‚"
